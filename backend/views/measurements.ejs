<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
  </head>
  <title>Partogram Data Form</title>

  <link
    href="/public/static/vendor/fontawesome-free/css/all.min.css"
    rel="stylesheet"
    type="text/css"
  />

  <link href="/public/static/css/addPatient.css" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet"
  />
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom styles for this template-->
  <link href="/public/static/css/sb-admin-2.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.0/axios.min.js"></script>

  <body class="bg-gradient-white text-dark, page-top">
    <div id="google_translate_element"></div>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: "en",
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          },
          "google_translate_element"
        );
      }
    </script>
    <%- include('../views/partials/redundant.ejs');%>
    <style>
      * {
        box-sizing: border-box;
      }
      
      body {
        background-color: #f1f1f1;
      }
      
      #regForm {
        background-color: #ffffff;
        margin: 100px auto;
        font-family: Raleway;
        padding: 40px;
        width: 70%;
        min-width: 300px;
      }
      
      h1 {
        text-align: center;  
      }
      
      input {
        padding: 10px;
        width: 100%;
        font-size: 17px;
        font-family: Raleway;
        border: 1px solid #aaaaaa;
      }
      
      /* Mark input boxes that gets an error on validation: */
      input.invalid {
        background-color: #ffdddd;
      }
      
      /* Hide all steps by default: */
      .tab {
        display: none;
      }
      
      button {
        background-color: #04AA6D;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        font-size: 17px;
        font-family: Raleway;
        cursor: pointer;
      }
      
      button:hover {
        opacity: 0.8;
      }
      
      #prevBtn {
        background-color: #bbbbbb;
      }
      
      /* Make circles that indicate the steps of the form: */
      .step {
        height: 15px;
        width: 15px;
        margin: 0 2px;
        background-color: #bbbbbb;
        border: none;  
        border-radius: 50%;
        display: inline-block;
        opacity: 0.5;
      }
      
      .step.active {
        opacity: 1;
      }
      
      /* Mark the steps that are finished and valid: */
      .step.finish {
        background-color: #04AA6D;
      }
      
      body {
        background-color: #333;
      }
      
      #btnStart {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      
      #message {
        width: 200px;
        height: 100px;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        color: #fff;
        margin: auto;
        text-align: center;
        display: none;
      }
          table, th, td {
            border:1px solid black;
          }
          
      </style>
      
      
      <body class="container bg-light"  style="color: black; font-weight:bold;">
        <!-- Start Header form -->
        <div class="text-center pt-5">
          <h2>Add Partorgram Measurements</h2>
        </div>
        <!-- End Header form -->
        <form id="bookingForm" action="/patient/addmeasurement" method="post" class="needs-validation" novalidate autocomplete="off"> 
        <!-- Start Card -->
        <div class="card">
          <input type="text" name="patientId" value="<%= patientid %>" hidden />
          <!-- Start Card Body -->
          <div class="card-body">
            
                <div class="form-group">
                  
                <!-- One "tab" for each step in the form: -->
                </div><b>Foetal Details:</b>
                   <!-- Start Input End Time -->
                  <!-- Start Input Name -->
              <div class="form-group">
                <label for="inputName">Foetal Heart Rate</label>
                <input type="number" class="form-control" id="heartrate" name="foetalHeartRate" placeholder="Enter Foetal Heart Rate"/>

              </div>
             <!-- Start Check Room Type -->
             <div class="form-group">
              <legend class="col-form-label pt-0">Choose the type of the liquor</legend>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType1" name="liquor" value="I"/>
                <label class="form-check-label" for="inlineliquorType1">I</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType1" name="liquor" value="C"/>
                <label class="form-check-label" for="inlineliquorType1">C</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType2" name="liquor" value="M"/>
                <label class="form-check-label" for="inlineliquorType2">M</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType3" name="liquor" value="M1"/>
                <label class="form-check-label" for="inlineliquorType3">M1</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType4" name="liquor" value="M2"/>
                <label class="form-check-label" for="inlineliquorType4">M2</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineliquorType5" name="liquor" value="M3"/>
                <label class="form-check-label" for="inlineliquorType5">M3</label>
              </div>
            </div>
            <!-- End Check Room Type -->
             <!-- Start Check Room Type -->
             <div class="form-group">
              <legend class="col-form-label pt-0">Choose the Moulding</legend>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineRadioType1" name="moulding" value="0"/>
                <label class="form-check-label" for="inlineRadioType1">0</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineRadioType2" name="moulding" value="1"/>
                <label class="form-check-label" for="inlineRadioType2">+1</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineRadioType3" name="moulding" value="2"/>
                <label class="form-check-label" for="inlineRadioType3">+2</label>
              </div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="inlineRadioType4" name="moulding" value="3"/>
                <label class="form-check-label" for="inlineRadioType4">+3</label>
              </div>
            </div>
              <!-- Start Input Start Time -->
              <div class="form-group">
                <label>Martenal Information</label>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  <select class="form-control mr-1" id="cervixdilation" name="cervix" required>
                    <option value="-1" disabled selected>Cervix Dilation</option>
                    <option value="4">04</option>
                    <option value="5">05</option>
                    <option value="6">06</option>
                    <option value="7">07</option>
                    <option value="8">08</option>
                    <option value="9">09</option>
                    <option value="10">10</option>
                  </select>
                  <div class="pl-1 pr-2">    </div>
                  <select class="form-control" id="descent" name="descent" required>
                    <option value="" disabled selected>Descent </option>
                    <option value="4">04</option>
                    <option value="3">03</option>
                    <option value="2">02</option>
                    <option value="0">00</option>
                  </select>
                </div>
              </div>
              <!-- End Input Start Time -->
      
              <!-- Start Input End Time -->
              <div class="form-group">
                <label>No of Contractions</label>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  <!-- <label for="contractions" style="font-size:18px">Number Of contractions</label> -->
                  <input class="form-control mr-1" type="number" id="constractions" name="contraction" >
                  </input>
                </div>
              </div>

              <div class="form-group">
                <label>Pulse</label>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  <!-- <label for="contractions" style="font-size:18px">Number Of contractions</label> -->
                  <input class="form-control mr-1" type="number" id="pulse" name="pulse" >
                  </input>
                </div>
              </div>

              <div class="form-group">
                <label>Systolic</label>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  <!-- <label for="contractions" style="font-size:18px">Number Of contractions</label> -->
                  <input class="form-control mr-1" type="number" id="systolic" name="systolic" >
                  </input> 
                </div>
              </div>

              <div class="form-group">
                <label>Diastolic</label>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  <!-- <label for="contractions" style="font-size:18px">Number Of contractions</label> -->
                  <input class="form-control mr-1" type="number" id="diastolic" name="diastolic" >
                  </input> 
                </div>
              </div>

                   <!-- Start Input Remark -->
                   <div class="form-group">
                    <label for="textAreaRemark">Drugs Taken and Remarks</label>
                    <textarea class="form-control" name="drugs" id="textAreaRemark" rows="2" placeholder="Any action taken..."></textarea>
                  </div>
                  <!-- End Input Remark -->
              
                  <!-- Start Submit Button -->
                  <button class="btn btn-primary btn-block col-lg-2" type="submit">Submit</button>
                  <!-- End Submit Button -->
                </div>
              </form>
        <footer>
          <div class="my-4 text-muted text-center">
            <p>©HashClashers 2022</p>
          </div>
        </footer>
      
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
      
        <!-- Start Scritp for Form -->
        <script>
      
      var select = document.getElementById("selectheartRate");
      var options = [];
      
      for(var i = 70; i <= 190; i++) {
          var opt = options[i];
          var el = document.createElement("option");
          el.textContent = opt;
          el.value = opt;
          select.appendChild(el);
      }
          // Example starter JavaScript for disabling form submissions if there are invalid fields
          (function() {
            'use strict';
            window.addEventListener('load', function() {
              // Fetch all the forms we want to apply custom Bootstrap validation styles to
              var forms = document.getElementsByClassName('needs-validation');
              // Loop over them and prevent submission
              var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                  if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                  }
                  form.classList.add('was-validated');
                }, false);
              });
            }, false);
          })();

          
          function validateForm()
          {
            let x= 
            document.forms["bookingForm"]["heartrate"].value;

            if(x<70)
            {
              alert("+placental Blood Flow to the fetus compromised, assess reasons. \n + might have to take following actions \n 1. transfuse fluid. \n 2. oxygen supplementation. \n 3. other \n 4. if no possitive response observed refer ungently to the refferal unit");
            }
            else if(x>160)
            {
              alert("+placental Blood Flow to the fetus compromised, assess reasons. \n + might have to take following actions \n 1. transfuse fluid. \n 2. oxygen supplementation. \n 3. other \n 4. if no possitive response observed refer ungently to the refferal unit");
            }
           


            let liquor =  document.forms["bookingForm"]["liquorType"].value;
            if(liquor = "M")
            {
              alert("+Refer the woman in labour to a referral unit");
            }
            else if(liquor = "M1")
            {
              alert("+Liqour in latent first stage of labour, even with normal fetal heart rate");
            }
            else if(liquor = "M2")
            {
              alert("+Liqour in early active first stage of labour, even with normal fetal heart rate");
            }
            else if(liquor = "M3")
            {
              alert("+Liqour in any stage of labour, unless progressing fast");
            }

            let mould =document.forms["bookingForm"]["mouldingType"].value;
          
            if(mould = "+3")
            {
      alert("+Labor progressing poorly \n +High risk of uterine obstruction \n +Refer the woman in labor ugently to referral Unit");
            }
            
            else if(mould = "+2")
            {
              alert("Monitor the patient");
            }
          }
        </script>
        <!-- End Scritp for Form -->
      
    
      
  </body>

      